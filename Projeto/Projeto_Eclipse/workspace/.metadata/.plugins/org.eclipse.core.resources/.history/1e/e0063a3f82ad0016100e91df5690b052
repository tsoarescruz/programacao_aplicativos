package com.example.consumoelet;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.RadioButton;

public class ConsumoEletActivity extends Activity {

	RadioButton radioampla;
	RadioButton radioligth;
	EditText edttensao;
	EditText edttempuso;
	EditText edtpotencia;
	
	EditText  edtquantpotencia;
	EditText  edtquantcusto;
	EditText  edtquantdisjuntor;
	EditText  edtquantcorrente;
	EditText  edtquantconsumo;

	Button buttoncalcular;

	;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_consumo_elet);
	
		edttensao = (EditText) findViewById(R.id.edttensao);
		edttempuso = (EditText) findViewById(R.id.edttempuso);
		edtpotencia = (EditText) findViewById(R.id.edtpotencia);
		edtquantpotencia = (EditText) findViewById(R.id.edtquantpotencia);
		edtquantcusto = (EditText) findViewById(R.id.edtquantcusto);
		edtquantdisjuntor = (EditText) findViewById(R.id.edtquantdisjuntor);
		edtquantcorrente = (EditText) findViewById(R.id.edtquantcorrente);
		edtquantconsumo = (EditText) findViewById(R.id.edtquantconsumo);
		radioligth = (RadioButton) findViewById(R.id.radioligth);
		radioampla = (RadioButton) findViewById(R.id.radioampla);
		buttoncalcular=(Button) findViewById(R.id.buttoncalcular);

		buttoncalcular.setOnClickListener(new OnClickListener(){
			public void onClick (View arg0){				
				
				//
				
		        int qtd, i, conces;
		        String conces_str;
		        double potencia, tempo, Eel, custo, tensao, valconces, amperes;

		        potencia = 0;
		        tempo = 0;
		      
		        potencia = Double.parseDouble(edtpotencia.getText().toString());
		        tempo = Double.parseDouble(edttempuso.getText().toString());
		        tensao = Double.parseDouble(edtpotencia.getText().toString());

		        /**Calcula os dados usados, faz a convesao do tempo de minutos para horas
		        faz a conversão da potência em watts para kwatts.
		        */    
		        tempo = tempo/60;
		        potencia = (potencia)*(0.001);
		        Eel = potencia * tempo;
		        
		        /**Procedimento que verifica qual é a concessionária elétrica
		        Atribui o valor de gasto para cada concessionária.*/


		        if (conces == 1){
		             conces_str = "Ligth";
		             valconces  = 0.30;
		             custo = Eel*valconces*30;
		        }else{
		             conces_str = "Ampla";
		             valconces = 0.50;
		             custo = Eel*valconces*30;
		             System.out.println(custo);
		        }

		        /** utiliza a lei de Ohm i=p/U para fazer o cálculo de corrente total 
		        onde i=corrente nominal do circuito potência é a soma das potências do 
		        circuito tensao é a soma da tensão nominal da rede;*/
		        
		        amperes = potencia/tensao;
		        
		        System.out.println(" ");
		        System.out.println(" ");
		        System.out.println("======================= RESULTADO =======================");
		        System.out.println("Potência em Kwats:");
		        System.out.println(potencia);
		        System.out.println("Para a concessionária:");
		        System.out.println(conces_str);
		        System.out.println("O valor do custo mensal:");
		        System.out.println("R$: " + custo);
		        System.out.println("O consumo mensal: ");
		        System.out.println(custo + "Kw/h");
		        System.out.println("O calculo de corrente da rede: ");
		        System.out.println(i + " Amperes");
		        System.out.println("Utilize um disjuntor com valor superior ao de tensão da rede");
		        System.out.println("no mínimo de :");
		        System.out.println(amperes+1 + " Amperes");
		        System.out.println("=========================================================");

		        sc.close();

		    }
		    
		}

				
				
				//
				
			}

			
		});
		
	}
		
}
